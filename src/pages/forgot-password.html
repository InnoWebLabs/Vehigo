<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Forgot Password - VehiGo</title>
  <link rel="stylesheet" href="../assets/styles/loginstyle.css">
</head>
<body id="resetpass-body">
  <form id="resetpass-form">
    <h1 id="resetpass-heading">Reset Password</h1>
    
    <label for="resetpass-email">Email</label>
    <div class="resetpass-email-wrapper">
      <input type="email" id="resetpass-email" placeholder="Enter your email" required>
    </div>
    <br>

    <label for="resetpass-newpassword">New Password</label>
    <div class="resetpass-password-wrapper">
      <input type="password" id="resetpass-newpassword" required>
      <span class="resetpass-toggle-password" onclick="togglePassword(this)">üëÅÔ∏è</span>
    </div>
    <br>

    <label for="resetpass-confirmpassword">Confirm Password</label>
    <div class="resetpass-password-wrapper">
      <input type="password" id="resetpass-confirmpassword" required>
      <span class="resetpass-toggle-password" onclick="togglePassword(this)">üëÅÔ∏è</span>
    </div>
    <br>

    <button type="submit" id="resetpass-button">Reset Password</button>
  </form>
  <script>
    function togglePassword(toggleElement) {
      const input = toggleElement.previousElementSibling;
      input.type = (input.type === "password") ? "text" : "password";
    }

    const form = document.getElementById("resetpass-form");
    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const email = document.getElementById("resetpass-email").value.trim();
      const newPassword = document.getElementById("resetpass-newpassword").value;
      const confirmPassword = document.getElementById("resetpass-confirmpassword").value;

      if (!email.includes("@") || !email.includes(".")) {
        alert("Please enter a valid email address");
        return;
      }
      if (newPassword.length < 6) {
        alert("Password should be at least 6 characters long");
        return;
      }
      if (newPassword !== confirmPassword) {
        alert("Passwords do not match");
        return;
      }
      alert("Password has been reset successfully for " + email + "!");
      window.location.href = "login.html"; 
    });
  </script>
</body>
</html>
